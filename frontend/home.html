<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSE Department</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      display: none;
    }

    /* Hide until session check */
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .glass-dark {
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .text-gradient {
      background: linear-gradient(to right, #818cf8, #c084fc, #f472b6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #0f172a;
    }

    ::-webkit-scrollbar-thumb {
      background: #334155;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #475569;
    }
  </style>
</head>

<body class="bg-slate-950 text-white scroll-smooth antialiased selection:bg-indigo-500 selection:text-white">

  <!-- NAVIGATION -->
  <nav class="fixed w-full z-50 glass-dark transition-all duration-300" id="navbar">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <div class="flex items-center gap-3">
          <div
            class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-indigo-500/20">
            <i class="fa-solid fa-graduation-cap"></i>
          </div>
          <span class="font-bold text-xl tracking-tight text-white">CSE Dept</span>
        </div>
        <div class="hidden md:block">
          <div class="ml-10 flex items-baseline space-x-8">
            <a href="#home"
              class="text-slate-300 hover:text-white hover:bg-white/5 transition-all px-4 py-2 rounded-lg text-sm font-medium">Home</a>
            <a href="#about"
              class="text-slate-300 hover:text-white hover:bg-white/5 transition-all px-4 py-2 rounded-lg text-sm font-medium">About</a>
            <a href="#contact"
              class="text-slate-300 hover:text-white hover:bg-white/5 transition-all px-4 py-2 rounded-lg text-sm font-medium">Contact</a>
          </div>
        </div>
        <div class="hidden md:block">
          <button onclick="login()"
            class="bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2.5 rounded-full font-medium transition-all shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 transform hover:-translate-y-0.5 active:translate-y-0">
            Log In
          </button>
        </div>
        <div class="-mr-2 flex md:hidden">
          <button id="menu-btn"
            class="inline-flex items-center justify-center p-2 rounded-md text-slate-400 hover:text-white hover:bg-slate-800 focus:outline-none">
            <i class="fa-solid fa-bars text-2xl"></i>
          </button>
        </div>
      </div>
    </div>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden bg-slate-900/95 backdrop-blur-xl border-l border-slate-800 
            absolute top-20 right-0 w-1/3 h-screen 
            transform translate-x-full transition-transform duration-300">

      <div class="px-4 pt-4 pb-6 space-y-2">
        <a href="#home"
          class="mobile-link block px-3 py-3 rounded-lg text-base font-medium text-slate-300 hover:bg-slate-800 hover:text-white">
          Home
        </a>

        <a href="#about"
          class="mobile-link block px-3 py-3 rounded-lg text-base font-medium text-slate-300 hover:bg-slate-800 hover:text-white">
          About
        </a>

        <a href="#contact"
          class="mobile-link block px-3 py-3 rounded-lg text-base font-medium text-slate-300 hover:bg-slate-800 hover:text-white">
          Contact
        </a>

        <button onclick="login()"
          class="mobile-link w-full text-center mt-4 bg-indigo-600 text-white px-4 py-3 rounded-xl font-medium shadow-lg shadow-indigo-500/20">
          Log In
        </button>
      </div>
    </div>

  </nav>

  <!-- HERO SECTION -->
  <section id="home" class="relative min-h-screen flex items-center justify-center pt-20 overflow-hidden">
    <!-- Background Gradients -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10">
      <div class="absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-indigo-600/10 blur-[120px]">
      </div>
      <div class="absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-purple-600/10 blur-[120px]">
      </div>
      <div class="absolute top-[40%] left-[40%] w-[30%] h-[30%] rounded-full bg-pink-600/5 blur-[100px]"></div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
      <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold tracking-tight mb-8 leading-tight">
        Department of <br>
        <span class="text-gradient">Computer Science</span>
      </h1>
      <p class="mt-4 max-w-2xl mx-auto text-lg md:text-xl text-slate-400 mb-12 leading-relaxed">
        Your one-stop portal for academics,attendance and resources.
      </p>

      <div class="flex flex-wrap justify-center gap-6 md:gap-8 mt-4">
        <!-- Student Marks Card -->
        <div
          class="group relative w-full sm:w-80 glass p-8 rounded-3xl hover:bg-slate-800/50 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:shadow-indigo-500/10 border border-slate-800 hover:border-indigo-500/30">
          <div
            class="absolute -top-6 left-8 w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/30 group-hover:scale-110 transition-transform duration-300">
            <i class="fa-solid fa-chart-line text-white text-2xl"></i>
          </div>
          <h3 class="mt-8 text-2xl font-bold text-white mb-3">Student Marks</h3>
          <p class="text-slate-400 text-sm mb-8 leading-relaxed">Check your academic performance, internal
            assessments, and semester grades instantly.</p>
          <a href="studentMarks.html"
            class="inline-flex items-center text-indigo-400 font-semibold group-hover:text-indigo-300 transition-colors">
            View Marks <i class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
          </a>
        </div>

        <!-- Attendance Card -->
        <div
          class="group relative w-full sm:w-80 glass p-8 rounded-3xl hover:bg-slate-800/50 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/10 border border-slate-800 hover:border-purple-500/30">
          <div
            class="absolute -top-6 left-8 w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30 group-hover:scale-110 transition-transform duration-300">
            <i class="fa-solid fa-calendar-check text-white text-2xl"></i>
          </div>
          <h3 class="mt-8 text-2xl font-bold text-white mb-3">Attendance</h3>
          <p class="text-slate-400 text-sm mb-8 leading-relaxed">Track your daily attendance, view
            subject-wise reports, and maintain eligibility.</p>
          <a href="studentAttendance.html"
            class="inline-flex items-center text-purple-400 font-semibold group-hover:text-purple-300 transition-colors">
            Check Status <i class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT SECTION -->
  <section id="about" class="py-24 md:py-32 bg-slate-950 relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-20">
        <h2 class="text-3xl md:text-5xl font-bold text-white mb-6">About Our Department</h2>
        <div class="w-24 h-1.5 bg-gradient-to-r from-indigo-500 to-purple-500 mx-auto rounded-full"></div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-start">
        <!-- Left: Profile & Info -->
        <div class="glass p-8 md:p-10 rounded-[2rem] border border-slate-800 bg-slate-900/40">
          <div class="flex flex-col items-center text-center mb-10">
            <div
              class="w-36 h-36 rounded-full p-1.5 bg-gradient-to-tr from-indigo-500 via-purple-500 to-pink-500 mb-6 shadow-xl">
              <img src="assets/images/images.jpeg" alt="Dept"
                class="w-full h-full rounded-full object-cover border-4 border-slate-900">
            </div>
            <h3 class="text-3xl font-bold text-white mb-2">CSE Department</h3>
            <p class="text-indigo-400 font-medium">Canara Engineering College</p>
            <p class="text-slate-500 text-sm mt-1">Benjanpadavu, Bantwal, DK - 574219</p>
          </div>
          <div class="space-y-6 text-slate-300 leading-relaxed text-justify">
            <p>The Bachelor of Engineering (BE) in Computer Science & Engineering is affiliated to <strong
                class="text-white">VTU, Belgaum</strong>. We offer a blend of theory and practical
              courses to help students cope with industry advancements.</p>
            <div class="bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50">
              <h4 class="font-semibold text-white mb-3 flex items-center gap-2">
                <i class="fa-solid fa-star text-yellow-500"></i> Key Highlights
              </h4>
              <ul class="space-y-2 text-sm text-slate-400">
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-indigo-500"></span>
                  Advanced Java & Python
                  Labs</li>
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-indigo-500"></span> Soft
                  Skills & Technical
                  Development</li>
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-indigo-500"></span> Annual
                  Intake: 180
                  Students</li>
              </ul>
            </div>
          </div>
          <div class="mt-10 text-center">
            <button id="staffBtn"
              class="w-full sm:w-auto bg-slate-800 hover:bg-slate-700 text-white px-8 py-4 rounded-xl font-medium border border-slate-700 transition-all hover:border-indigo-500/50 hover:shadow-lg hover:shadow-indigo-500/10 flex items-center justify-center gap-2">
              <i class="fa-solid fa-users"></i> Meet Our Faculty
            </button>
          </div>
        </div>

        <!-- Right: Vision & Mission -->
        <div class="space-y-8">
          <!-- Vision -->
          <div
            class="group p-8 rounded-[2rem] bg-gradient-to-br from-slate-900 to-slate-900 border border-slate-800 hover:border-indigo-500/30 transition-all duration-300 hover:shadow-2xl hover:shadow-indigo-500/5">
            <div class="flex items-center gap-5 mb-6">
              <div
                class="w-12 h-12 rounded-2xl bg-indigo-500/10 flex items-center justify-center text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition-colors duration-300">
                <i class="fa-solid fa-eye text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-white">Vision</h3>
            </div>
            <p class="text-slate-400 leading-relaxed text-lg">
              To be recognized as a center of knowledge dissemination in Computer Science and Engineering
              by imparting value-added education to transform budding minds into competent computer
              professionals.
            </p>
          </div>

          <!-- Mission -->
          <div
            class="group p-8 rounded-[2rem] bg-gradient-to-br from-slate-900 to-slate-900 border border-slate-800 hover:border-purple-500/30 transition-all duration-300 hover:shadow-2xl hover:shadow-purple-500/5">
            <div class="flex items-center gap-5 mb-6">
              <div
                class="w-12 h-12 rounded-2xl bg-purple-500/10 flex items-center justify-center text-purple-400 group-hover:bg-purple-500 group-hover:text-white transition-colors duration-300">
                <i class="fa-solid fa-bullseye text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-white">Mission</h3>
            </div>
            <ul class="space-y-4 text-slate-400">
              <li class="flex gap-4">
                <div
                  class="mt-1.5 w-5 h-5 rounded-full bg-purple-500/10 flex items-center justify-center flex-shrink-0">
                  <i class="fa-solid fa-check text-xs text-purple-500"></i>
                </div>
                <span>Provide value-based learning with ethics and integrity.</span>
              </li>
              <li class="flex gap-4">
                <div
                  class="mt-1.5 w-5 h-5 rounded-full bg-purple-500/10 flex items-center justify-center flex-shrink-0">
                  <i class="fa-solid fa-check text-xs text-purple-500"></i>
                </div>
                <span>Augment knowledge in cutting-edge technologies.</span>
              </li>
              <li class="flex gap-4">
                <div
                  class="mt-1.5 w-5 h-5 rounded-full bg-purple-500/10 flex items-center justify-center flex-shrink-0">
                  <i class="fa-solid fa-check text-xs text-purple-500"></i>
                </div>
                <span>Promote research, innovation, and all-round development.</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT SECTION -->
  <section id="contact" class="py-24 relative overflow-hidden">
    <!-- Decorative Elements -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-3xl h-full bg-indigo-600/5 blur-[100px] -z-10">
    </div>

    <div class="max-w-4xl mx-auto px-6">
      <div class="glass p-8 md:p-12 rounded-[2.5rem] border border-slate-800 shadow-2xl relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500">
        </div>

        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Get in Touch</h2>
          <p class="text-slate-400 text-lg">Have questions? We'd love to hear from you.</p>
        </div>

        <form class="space-y-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="space-y-2">
              <label class="block text-sm font-medium text-slate-300 ml-1">Email Address</label>
              <input id="email" type="email" placeholder="you@example.com"
                class="w-full bg-slate-900/50 border border-slate-700 rounded-xl px-5 py-4 text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all">
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-medium text-slate-300 ml-1">Subject</label>
              <input type="text" placeholder="Inquiry"
                class="w-full bg-slate-900/50 border border-slate-700 rounded-xl px-5 py-4 text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all">
            </div>
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-slate-300 ml-1">Message</label>
            <textarea id="message" rows="5" placeholder="How can we help you?"
              class="w-full bg-slate-900/50 border border-slate-700 rounded-xl px-5 py-4 text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all resize-none"></textarea>
          </div>

          <button type="button" id="sendBtn"
            class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-500/25 transition-all transform hover:-translate-y-1 active:translate-y-0 text-lg">
            Send Message
          </button>

          <div id="loading" class="hidden flex justify-center mt-6">
            <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-500"></div>
          </div>
          <p id="statusMsg" class="text-center mt-6 font-medium text-lg"></p>
        </form>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-slate-950 text-slate-400 py-12 border-t border-slate-900">
    <div class="max-w-7xl mx-auto px-6 flex flex-col items-center">
      <div class="flex space-x-8 mb-8">
        <a href="https://www.instagram.com/cecmangalore" target="_blank"
          class="w-12 h-12 rounded-full bg-slate-900 flex items-center justify-center text-xl hover:bg-pink-600 hover:text-white transition-all duration-300"><i
            class="fab fa-instagram"></i></a>
        <a href="mailto:dams.project25@gmail.com"
          class="w-12 h-12 rounded-full bg-slate-900 flex items-center justify-center text-xl hover:bg-indigo-600 hover:text-white transition-all duration-300"><i
            class="fas fa-envelope"></i></a>
        <a href="https://www.linkedin.com/school/canara-engineering-college-official/" target="_blank"
          class="w-12 h-12 rounded-full bg-slate-900 flex items-center justify-center text-xl hover:bg-blue-600 hover:text-white transition-all duration-300"><i
            class="fab fa-linkedin"></i></a>
      </div>
      <p class="text-sm text-slate-500">&copy; 2025 CSE Department. All rights reserved.</p>
    </div>
  </footer>

  <!-- STAFF MODAL -->
  <div id="staffModal" class="fixed inset-0 z-[100] hidden" aria-labelledby="modal-title" role="dialog"
    aria-modal="true">
    <div class="fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
      <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
        <div
          class="relative transform overflow-hidden rounded-2xl bg-slate-900 border border-slate-700 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-5xl">
          <div class="bg-slate-800/50 px-6 py-5 border-b border-slate-700 flex justify-between items-center">
            <h3 class="text-2xl font-bold text-white flex items-center gap-3">
              <span class="w-2 h-8 bg-indigo-500 rounded-full"></span>
              Our Faculty
            </h3>
            <button id="closeModal"
              class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 hover:text-white hover:bg-red-500/20 hover:text-red-500 transition-all">
              <i class="fa-solid fa-xmark text-xl"></i>
            </button>
          </div>
          <div class="p-8 max-h-[70vh] overflow-y-auto custom-scrollbar bg-slate-900">
            <div id="staffContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
              <!-- Dynamic Content -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const staffBtn = document.getElementById('staffBtn');
    const staffModal = document.getElementById('staffModal');
    const closeModal = document.getElementById('closeModal');
    const menuBtn = document.getElementById("menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const mobileLinks = document.querySelectorAll(".mobile-link");

    // Toggle menu
    menuBtn.addEventListener("click", () => {
      if (mobileMenu.classList.contains("hidden")) {
        openMenu();
      } else {
        closeMenu();
      }
    });

    function openMenu() {
      mobileMenu.classList.remove("hidden");
      mobileMenu.classList.remove("translate-x-full");
      mobileMenu.classList.add("translate-x-0");
    }

    function closeMenu() {
      mobileMenu.classList.add("translate-x-full");
      setTimeout(() => mobileMenu.classList.add("hidden"), 300); // match animation time
    }

    // Close on clicking a menu link
    mobileLinks.forEach(link => {
      link.addEventListener("click", () => {
        closeMenu();
      });
    });

    // Close when clicking outside
    document.addEventListener("click", (e) => {
      if (!mobileMenu.contains(e.target) && !menuBtn.contains(e.target)) {
        closeMenu();
      }
    });


    // Login redirect
    function login() {
      window.location.href = "login.html";
    }

    // Staff modal toggle
    staffBtn.addEventListener('click', () => staffModal.classList.remove('hidden'));
    closeModal.addEventListener('click', () => staffModal.classList.add('hidden'));
    window.addEventListener('click', (e) => {
      if (e.target === staffModal) staffModal.classList.add('hidden');
    });

    // Contact form logic
    const sendBtn = document.getElementById('sendBtn');
    const loader = document.getElementById('loading');
    const statusMsg = document.getElementById('statusMsg');

    sendBtn.addEventListener('click', async () => {
      const email = document.getElementById('email').value.trim();
      const message = document.getElementById('message').value.trim();

      if (!email || !message) {
        statusMsg.textContent = "Please enter your email and message.";
        statusMsg.className = "mt-4 text-red-600 font-semibold";
        return;
      }

      loader.classList.remove('hidden');
      sendBtn.disabled = true;
      statusMsg.textContent = "";

      try {
        const apiURL = window.location.origin + "/contact";
        const res = await fetch(apiURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, message }),
        });
        const data = await res.json();
        if (data.success) {
          statusMsg.textContent = "✅ Message sent successfully!";
          statusMsg.className = "mt-4 text-green-600 font-semibold";
          document.getElementById('email').value = '';
          document.getElementById('message').value = '';
        } else {
          statusMsg.textContent = `❌ ${data.error || "Failed to send message"}`;
          statusMsg.className = "mt-4 text-red-600 font-semibold";
        }
      } catch (err) {
        statusMsg.textContent = "❌ Error sending message. Try again later.";
        statusMsg.className = "mt-4 text-red-600 font-semibold";
      } finally {
        loader.classList.add('hidden');
        sendBtn.disabled = false;
      }
    });


    async function loadStaffData() {
      try {
        const res = await fetch("/api/staff");
        const staffList = await res.json();

        const container = document.getElementById("staffContainer");
        container.innerHTML = "";

        staffList.forEach(staff => {
          const card = document.createElement("div");
          card.className =
            "bg-gray-100 p-4 rounded-xl shadow hover:shadow-lg transition text-center";

          const firstLetter = staff.name ? staff.name.charAt(0).toUpperCase() : "?";

          // ✅ If photo exists → show image
          // ✅ If not → show profile icon
          const avatarHTML = staff.photo
            ? `<img src="${staff.photo}" alt="${staff.name}" 
             onerror="this.style.display='none'; this.insertAdjacentHTML('afterend', '<div class=\'mx-auto mb-3 w-24 h-24 flex items-center justify-center rounded-full bg-gray-300 text-gray-700 text-4xl shadow-md\'><i class=\'fa-solid fa-user\'></i></div>')"
             class="mx-auto rounded-full mb-3 w-24 h-24 object-cover border-2 border-cyan-400 shadow-md">`
            : `<div class="mx-auto mb-3 w-24 h-24 flex items-center justify-center rounded-full bg-gray-300 text-gray-700 text-4xl shadow-md">
            <i class="fa-solid fa-user"></i>
          </div>`;

          card.innerHTML = `
        ${avatarHTML}
        <h3 class="font-bold text-lg text-gray-800">${staff.name}</h3>
        <p class="text-gray-600 text-sm">${staff.position || "Staff"}</p>
      `;

          container.appendChild(card);
        });
      } catch (error) {
        console.error("Failed to load staff data:", error);
      }
    }


    // Example: When modal opens, load staff
    staffBtn.addEventListener('click', () => {
      staffModal.classList.remove('hidden');
      loadStaffData(); // ✅ Load staff when opening modal
    });


    // Session check
    async function checkSession() {
      try {
        const res = await fetch("/api/session", { credentials: "include" });
        const data = await res.json();
        if (data.loggedIn) {
          if (data.user.role === "student") window.location.replace("/student-home");
          else if (data.user.role === "faculty") window.location.replace("/faculty-home");
          return;
        }
      } catch (err) {
        console.error("Session check failed", err);
      }
      document.body.style.display = "block";
    }

    checkSession();
  </script>
</body>

</html>